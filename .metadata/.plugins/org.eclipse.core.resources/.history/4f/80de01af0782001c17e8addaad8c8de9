import java.util.ArrayList;
import java.util.HashMap;
import java.util.Scanner;

public class AddressBook implements Search {
	private static ArrayList<Entry> entryDatabase = new ArrayList<>();
	private static Scanner input = new Scanner(System.in);

	// Adding Entry
	public void addEntry() {

		// Read First Name
		System.out.print("\nFirst Name: ");
		String fName = input.next();

		// Read Last Name
		System.out.print("\nLast Name: ");
		String lName = input.next();

		// Read Phone Number
		System.out.print("\nPhone Number: ");
		long phnNum = Long.parseLong(input.next());

		// Read Email
		System.out.print("\nEmail Address: ");
		String email = input.next();

		entryDatabase.add(new Entry(fName, lName, phnNum, email));
		System.out.println("\nAdded new entry!\n");
	}

	// Remove Entry
	public void removeEntry() {
		System.out.print("\nEnter an entry's email to remove: ");
		String email = input.next();
		Entry e = null;

		for (Entry item : entryDatabase) {
			if (item.get_email().contains(email)) {
				System.out.println("\nDeleted the following entry: \n");
				e = item;
				System.out.println("************\n");
				System.out.println(e);
				System.out.println("\n************\n");
				entryDatabase.remove(e);
				e.emailList.remove(e.getId());
				break;
			} else if (!(item.get_email().contains(email))) {
				System.out.println("\nEntry was not found!!\n");
				break;
			}
		}
	}

	// Search different type

	public void searchFName(String value) {
		for (Entry item : entryDatabase) {
			if (item.get_firstName().contains(value)) {
				System.out.println("************\n");
				System.out.println(item);
				System.out.println("\n************\n");
				break;
			} else if (!(item.get_firstName().contains(value))) {
				System.out.println("\nEntry was not found!!\n");
				break;
			}
		}
	}

	public void searchLName(String value) {
		for (Entry item : entryDatabase) {
			if (item.get_lastName().contains(value)) {
				System.out.println("************\n");
				System.out.println(item);
				System.out.println("\n************\n");
				break;
			} else if (!(item.get_lastName().contains(value))) {
				System.out.println("\nEntry was not found!!\n");
				break;
			}
		}
	}
	
	public void searchPhnNum(String value) {
		long input = Long.parseLong(value);
		for (Entry item : entryDatabase) {
			if (item.get_phoneNumber() == input) {
				System.out.println("************\n");
				System.out.println(item);
				System.out.println("\n************\n");
				break;
			} else if (!(item.get_phoneNumber() == input)) {
				System.out.println("\nEntry was not found!!\n");
				break;
			}
		}
	}

	public void searchEmail(String value) {
		for (Entry item : entryDatabase) {
			if (item.get_email().contains(value)) {
				System.out.println("************\n");
				System.out.println(item);
				System.out.println("\n************\n");
				break;
			} else if (!(item.get_email().contains(value))) {
				System.out.println("\nEntry was not found!!\n");
				break;
			}
		}
	}
	
	// Search Method
	public void searchEntry() {
		
		System.out.println("\n1) First Name");
		System.out.println("\n2) Last Name");
		System.out.println("\n3) Phone Number");
		System.out.println("\n4) Email Address");
		
		System.out.println("\nChoose a search type: ");
		int searchInput = Integer.parseInt(input.next());
		System.out.println("\nEnter your search:");
		String val = input.next();
				
		switch (searchInput) {
		case 1:
			System.out.println(val);
			System.out.println(entryDatabase);
			searchFName(val);
			break;
			
		case 2:
			searchLName(val);
			break;
			
		case 3:
			searchPhnNum(val);
			break;
			
		case 4:
			searchEmail(val);
			break;
		}
		
		val = "";

	}

	public void Quit() {
		// Exit program
		System.out.println("\nExiting the program...");
		System.exit(0);
	}

	public static void main(String[] args) {
		AddressBook bookOne = new AddressBook();
		Scanner inputCase = new Scanner(System.in);
		int value;

		do {

			System.out.println("1) Add an entry\n");
			System.out.println("2) Remove an entry\n");
			System.out.println("3) Search for a specific entry\n");
			System.out.println("4) Print Address Book\n");
			System.out.println("5) Delete Book\n");
			System.out.println("6) Quit\n");
			System.out.print("Please choose what you'd like to do with the database: ");
			value = Integer.parseInt(inputCase.next());

			switch (value) {
			case 1:
				bookOne.addEntry();
				break;

			case 2:
				bookOne.removeEntry();
				break;
				
			case 3:
				bookOne.searchEntry();
				break;
			
			default:
				break;
			}
		} while (value != 6);

		if (value == 6) {
			Quit();
		}

	}
}
